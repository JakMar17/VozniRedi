(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{gA4M:function(t,e,n){"use strict";n.r(e),n.d(e,"SearchModule",function(){return I});var i=n("ofXK"),a=n("tyNb"),s=n("fXoL"),o=n("XNiG");let c=(()=>{class t{constructor(){this.timetables=new o.a,this.postajalisca=new o.a,this.searchView=new o.a,this.timetableView=new o.a,this.timetableView.next("not_show"),this.searchView.subscribe(t=>console.log(t)),this.searchView.next("not_show")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var r=n("AytR"),b=n("tk/3");let l=(()=>{class t{constructor(t,e){this.http=t,this.timetablesServices=e,this.baseUrl=r.a.BASE_URL}getAllPostajalisca(){this.http.get(this.baseUrl+"postajalisce/all").subscribe(t=>{console.log(t),this.timetablesServices.postajalisca.next(t),this.timetablesServices.searchView.next("show")})}getTimetable(t,e,n){this.timetablesServices.timetableView.next("loading"),this.http.get(this.baseUrl+"/timetable?from="+t+"&to="+e+"&date="+n).subscribe(t=>{this.timetablesServices.timetables.next(t),this.timetablesServices.timetableView.next("show")})}}return t.\u0275fac=function(e){return new(e||t)(s.Xb(b.a),s.Xb(c))},t.\u0275prov=s.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),p=(()=>{class t{transform(t){return null==t||0==t?"Brez prestopov / direktna povezava":"\u0160tevilo prestopov: "+t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Kb({name:"transfers",type:t,pure:!0}),t})(),d=(()=>{class t{transform(t){let e=0;for(let n of t)e+=n.stops.length-1;return e-2}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=s.Kb({name:"noOfStops",type:t,pure:!0}),t})();function u(t,e){if(1&t&&(s.Qb(0,"div",1),s.Qb(1,"div",2),s.Qb(2,"div",3),s.Qb(3,"h2",4),s.Qb(4,"div",5),s.xc(5),s.dc(6,"slice"),s.Pb(),s.Mb(7,"div",6),s.Qb(8,"div",7),s.xc(9),s.dc(10,"slice"),s.Pb(),s.Pb(),s.Mb(11,"hr"),s.Qb(12,"h4",8),s.Qb(13,"div",5),s.xc(14),s.Pb(),s.Mb(15,"div",6),s.Qb(16,"div",9),s.xc(17),s.Pb(),s.Pb(),s.Qb(18,"div",10),s.Mb(19,"i",11),s.xc(20),s.dc(21,"slice"),s.Pb(),s.Qb(22,"div",12),s.Mb(23,"i",13),s.xc(24),s.dc(25,"transfers"),s.Pb(),s.Qb(26,"div",12),s.Mb(27,"i",14),s.xc(28),s.dc(29,"noOfStops"),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t){const t=e.$implicit;s.zb(5),s.zc(" ",s.gc(6,7,t.startTime,0,5)," "),s.zb(4),s.zc(" ",s.gc(10,11,t.endTime,0,5)," "),s.zb(5),s.yc(t.startStop),s.zb(3),s.zc(" ",t.endStop," "),s.zb(3),s.zc(" Trajanje: ",s.gc(21,15,t.duration,0,5)," "),s.zb(4),s.zc(" ",s.ec(25,19,t.noOfStops)," "),s.zb(4),s.zc(" \u0160tevilo vmesnih postajali\u0161\u010d: ",s.ec(29,21,t.stations)," ")}}let g=(()=>{class t{constructor(t){this.timetablesServices=t,this.timetables=null,t.timetables.subscribe(t=>this.timetables=t)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(c))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-timetable-card"]],decls:1,vars:1,consts:[["class","container p-2",4,"ngFor","ngForOf"],[1,"container","p-2"],[1,"shadow","card","p-2","pt-4"],[1,"ml-5","mr-5","mb-3"],[1,"row","w-100",2,"padding-right","0"],[1,"col","text-start"],[1,"col"],[1,"col","text-right",2,"padding-right","0","margin-right","0"],[1,"row","w-100"],[1,"col","text-right",2,"padding-right","0"],[1,"text-center","align-items-center","text","d-flex","align-items-center","mt-3"],[1,"ri-timer-line"],[1,"text-center","text","d-flex","align-items-center"],[1,"ri-route-line"],[1,"ri-stop-circle-line"]],template:function(t,e){1&t&&s.vc(0,u,30,23,"div",0),2&t&&s.jc("ngForOf",e.timetables)},directives:[i.j],pipes:[i.p,p,d],styles:["h2[_ngcontent-%COMP%]{font-weight:200}h2[_ngcontent-%COMP%]   .sub[_ngcontent-%COMP%]{font-weight:500;font-size:85%}.text[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-weight:300}.text[_ngcontent-%COMP%]{font-size:20px}.text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2vw}"]}),t})();var h=n("3Pt+");function f(t,e){if(1&t&&(s.Qb(0,"div"),s.xc(1),s.Pb()),2&t){const t=e.$implicit;s.zb(1),s.zc(" ",t," ")}}function m(t,e){if(1&t&&(s.Qb(0,"div",18),s.vc(1,f,2,1,"div",19),s.Pb()),2&t){const t=s.cc();s.zb(1),s.jc("ngForOf",t.error)}}function v(t,e){1&t&&s.Mb(0,"option",20),2&t&&s.jc("value",e.$implicit.name)}let P=(()=>{class t{constructor(t,e){this.apiService=t,this.datePipe=e,this.postajalisca=null,this.vstopInput="",this.izstopInput="",this.datumInput=new Date,this.error=null}ngOnInit(){}searchTimetable(){this.error=null;const t=this.getPostajalisceObjectFrominput(this.vstopInput),e=this.getPostajalisceObjectFrominput(this.izstopInput),n=this.datePipe.transform(this.datumInput,"dd.MM.yyyy");null==t?this.error=["Vstopna postaja mora biti izbrana"]:null==e?this.error=["Izstopna postaja mora biti izbrana"]:null==n||this.apiService.getTimetable(+t.code,+e.code,n)}getPostajalisceObjectFrominput(t){if(null==this.postajalisca)return null;for(const e of this.postajalisca)if(e.name===t)return e;return null}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(l),s.Lb(i.d))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-search-box"]],inputs:{postajalisca:"postajalisca"},decls:31,vars:8,consts:[[1,"container","pl-2","pr-2","pb-5","pt-5"],[1,"shadow-lg","card","p-2","pt-4"],[1,"d-flex","justify-content-center"],[1,"text-center","d-flex","align-items-center"],[1,"ri-search-eye-line"],[1,"ml-5","mr-5"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"row","w-100","no-padding",2,"padding","0","margin","0"],["id","postajalisca"],[3,"value",4,"ngFor","ngForOf"],[1,"input-group","mb-3","col-lg-6","nopadding",2,"padding-left","0"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],["list","postajalisca","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group","mb-3","col-lg-6","nopadding","nomargin",2,"padding-right","0"],[1,"input-group","mb-3"],["type","date","type","date",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-outline-info","btn-block",3,"click"],["role","alert",1,"alert","alert-danger"],[4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Qb(3,"h1",3),s.Mb(4,"i",4),s.xc(5," Iskanje "),s.Pb(),s.Pb(),s.Qb(6,"div",5),s.Mb(7,"hr"),s.vc(8,m,2,1,"div",6),s.Qb(9,"div",7),s.Qb(10,"datalist",8),s.vc(11,v,1,1,"option",9),s.Pb(),s.Qb(12,"div",10),s.Qb(13,"div",11),s.Qb(14,"span",12),s.xc(15,"Vstop"),s.Pb(),s.Pb(),s.Qb(16,"input",13),s.ac("ngModelChange",function(t){return e.vstopInput=t}),s.Pb(),s.Pb(),s.Qb(17,"div",14),s.Qb(18,"div",11),s.Qb(19,"span",12),s.xc(20,"Izstop"),s.Pb(),s.Pb(),s.Qb(21,"input",13),s.ac("ngModelChange",function(t){return e.izstopInput=t}),s.Pb(),s.Pb(),s.Pb(),s.Qb(22,"div",15),s.Qb(23,"div",11),s.Qb(24,"span",12),s.xc(25,"Datum"),s.Pb(),s.Pb(),s.Qb(26,"input",16),s.ac("ngModelChange",function(t){return e.datumInput=t}),s.dc(27,"date"),s.Pb(),s.Pb(),s.Qb(28,"div",15),s.Qb(29,"button",17),s.ac("click",function(){return e.searchTimetable()}),s.xc(30," Poi\u0161\u010di vozni red "),s.Pb(),s.Pb(),s.Pb(),s.Pb(),s.Pb()),2&t&&(s.zb(8),s.jc("ngIf",e.error),s.zb(3),s.jc("ngForOf",e.postajalisca),s.zb(5),s.jc("ngModel",e.vstopInput),s.zb(5),s.jc("ngModel",e.izstopInput),s.zb(5),s.jc("ngModel",s.fc(27,5,e.datumInput,"yyyy-MM-dd")))},directives:[i.k,i.j,h.a,h.e,h.f,h.g,h.i],pipes:[i.d],styles:["h1[_ngcontent-%COMP%]{font-weight:300}h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:2vw}.col[_ngcontent-%COMP%]{margin:0;padding:0}"]}),t})(),w=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Fb({type:t,selectors:[["app-loading"]],decls:6,vars:0,consts:[[1,"container","p-2"],[1,"shadow","card","p-2","pt-4"],[1,"d-flex","justify-content-center"],[1,"spinner-bg",2,"size","300%"]],template:function(t,e){1&t&&(s.Qb(0,"div",0),s.Qb(1,"div",1),s.Qb(2,"div",2),s.Mb(3,"div",3),s.Pb(),s.Qb(4,"h4",2),s.xc(5," Nalaganje, prosimo po\u010dakajte "),s.Pb(),s.Pb(),s.Pb())},styles:["h4[_ngcontent-%COMP%]{margin-top:1vh;font-weight:400}"]}),t})();function j(t,e){if(1&t&&s.Mb(0,"app-search-box",4),2&t){const t=s.cc();s.jc("postajalisca",t.postajalisca)}}function x(t,e){1&t&&s.Mb(0,"app-loading")}function M(t,e){1&t&&s.Mb(0,"app-loading")}const Q=[{path:"",component:(()=>{class t{constructor(t,e){this.timetableService=t,this.searchboxViewState="not_show",this.timetableViewState="not_show",this.postajalisca=[],t.searchView.subscribe(t=>this.searchboxViewState=t),t.timetableView.subscribe(t=>this.timetableViewState=t),t.postajalisca.subscribe(t=>this.postajalisca=t),t.searchView.next("loading"),e.getAllPostajalisca()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(s.Lb(c),s.Lb(l))},t.\u0275cmp=s.Fb({type:t,selectors:[["app-timetable-layout"]],decls:8,vars:3,consts:[[1,"container","pl-2","pr-2","pt-5"],[1,"alert-info","p-3"],[3,"postajalisca",4,"ngIf"],[4,"ngIf"],[3,"postajalisca"]],template:function(t,e){1&t&&(s.Qb(0,"main"),s.Qb(1,"div",0),s.Qb(2,"div",1),s.xc(3," Aplikacija trenutno prikazuje podatke naslednjih avtobusnih prevoznikov: Nomago. "),s.Pb(),s.Pb(),s.vc(4,j,1,1,"app-search-box",2),s.vc(5,x,1,0,"app-loading",3),s.vc(6,M,1,0,"app-loading",3),s.Mb(7,"app-timetable-card"),s.Pb()),2&t&&(s.zb(4),s.jc("ngIf","show"==e.searchboxViewState),s.zb(1),s.jc("ngIf","loading"==e.searchboxViewState),s.zb(1),s.jc("ngIf","loading"==e.timetableViewState))},directives:[i.k,g,P,w],styles:[""]}),t})()}];let z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({imports:[[a.e.forChild(Q)],a.e]}),t})();var y=n("PCNd");let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.Jb({type:t}),t.\u0275inj=s.Ib({providers:[i.d],imports:[[i.b,z,y.a]]}),t})()}}]);